// Part of <https://miracle.systems/p/walkner-snf> licensed under <CC BY-NC-SA 4.0>

'use strict';

module.exports = (app, module) =>
{
  const {user, remoteApi, express} = module;

  const redirectToRemoteApi = remoteApi.createRedirect();
  const canView = user.auth('LOCAL', 'SNF:VIEW');

  express.get('/snf/programs', canView, redirectToRemoteApi);
  express.get('/snf/programs/:id', canView, redirectToRemoteApi);
  express.get('/snf/programs/:id/images/:image', canView, redirectToRemoteApi);
};
